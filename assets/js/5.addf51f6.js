(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{324:function(s,t,a){s.exports=a.p+"assets/img/routes.46e6ca6a.jpg"},325:function(s,t,a){s.exports=a.p+"assets/img/services.ea90d0f4.jpg"},371:function(s,t,a){"use strict";a.r(t);var n=a(25),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"快速上手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[s._v("#")]),s._v(" 快速上手")]),s._v(" "),n("h2",{attrs:{id:"环境安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境安装"}},[s._v("#")]),s._v(" 环境安装")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/etcd-io/etcd#getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 etcd"),n("OutboundLink")],1),s._v("（必须）")]),s._v(" "),n("li",[n("a",{attrs:{href:"http://openresty.org/cn/installation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 OpenResty"),n("OutboundLink")],1),s._v("（必须）")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://blog.fengjx.com/openresty/test-nginx.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 test::nginx"),n("OutboundLink")],1),s._v("（开发需要，跑测试用例）")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/luarocks/luarocks/wiki/Download",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 luarocks"),n("OutboundLink")],1),s._v(" （必须，用来安装项目依赖）")]),s._v(" "),n("li",[s._v("安装 luacheck（开发需要，代码风格检查）"),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("luarocks "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" luacheck\n")])])])]),s._v(" "),n("li",[n("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装 nodejs"),n("OutboundLink")],1),s._v("（开发控制面板需要）")]),s._v(" "),n("li",[s._v("安装 yarn 或者 npm（开发控制面板需要）\n"),n("ul",[n("li",[s._v("npm（安装 node 自带）")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://classic.yarnpkg.com/en/docs/instal",target:"_blank",rel:"noopener noreferrer"}},[s._v("yarn"),n("OutboundLink")],1)])])])]),s._v(" "),n("p",[s._v("环境变量")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据实际安装路径修改")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(':/usr/local/Cellar/openresty/1.15.8.3_1/nginx/sbin"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(':/usr/local/Cellar/openresty/1.15.8.3_1/luajit/bin"')]),s._v("\n")])])]),n("p",[s._v("启动etcd & 修改配置文件 etcd 配置"),n("code",[s._v("conf/app.json")])]),s._v(" "),n("blockquote",[n("p",[s._v("etcd.http_host 为 etcd 服务访问地址，etcd.data_prefix 为全局 etcd key 前缀，如有必要可修改")])]),s._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"appName"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ws-cloud-gateway"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"env"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"etcd"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"http_host"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://192.168.41.47:2379"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"data_prefix"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/my/cloud/"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("h2",{attrs:{id:"启动服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动服务"}},[s._v("#")]),s._v(" 启动服务")]),s._v(" "),n("p",[s._v("安装依赖")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" deps\n")])])]),n("p",[s._v("初始化数据（也可以跳过，在后台控制面板手动添加）")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" init\n")])])]),n("p",[s._v("初始化完成后，可以看下 etcd 数据")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("$ etcdctl --endpoints"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".41.47:2379  get "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/my/cloud'")]),s._v(" --prefix\n/my/cloud/discovery/demo1/127.0.0.1:1024\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173977,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo1"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/demo1\\/127.0.0.1:1024"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upstream"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1:1024"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/discovery/demo1/127.0.0.1:1025\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173983,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo1"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/demo1\\/127.0.0.1:1025"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upstream"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1:1025"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/discovery/demo2/127.0.0.1:1026\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173985,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo2"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/demo2\\/127.0.0.1:1026"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upstream"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1:1026"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/discovery/demo2/127.0.0.1:1027\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173988,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo2"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/demo2\\/127.0.0.1:1027"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upstream"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1:1027"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/discovery/grpc-demo/127.0.0.1:2021\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173990,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grpc-demo"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/grpc-demo\\/127.0.0.1:2021"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upstream"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"127.0.0.1:2021"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/routes/grpc.hello.*\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"props"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tracing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grpc-demo"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173905,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"protocol"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"grpc"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/grpc.hello.*"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/grpc.hello.*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/routes/innerapi/demo1/*\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"props"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite_url_regex"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^\\/innerapi\\/(.*)\\/"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite_replace"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tracing"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo1"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173895,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"protocol"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/innerapi\\/demo1\\/*"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/innerapi\\/demo1\\/*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/routes/openapi/demo1/*\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"props"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite_url_regex"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^\\/openapi\\/(.*)\\/"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite_replace"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/openapi\\/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tracing"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rewrite"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo1"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173884,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"protocol"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/openapi\\/demo1\\/*"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/openapi\\/demo1\\/*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n/my/cloud/routes/openapi/demo2/*\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"props"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"discovery"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tracing"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"service_name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"demo2"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"time"')]),s._v(":1594262173901,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"protocol"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"key"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/openapi\\/demo2\\/*"')]),s._v(","),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(":1,"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prefix"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\/openapi\\/demo2\\/*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("p",[s._v("启动服务")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" start\n")])])]),n("h2",{attrs:{id:"测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试 demo1 服务")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost:10000/openapi/demo1/api\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost:10000/innerapi/demo1/api2\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试 demo2 服务")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost:10000/openapi/demo2/api\n")])])]),n("h2",{attrs:{id:"管理后台（dashboard）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理后台（dashboard）"}},[s._v("#")]),s._v(" 管理后台（dashboard）")]),s._v(" "),n("p",[s._v("路由管理")]),s._v(" "),n("p",[n("img",{attrs:{src:a(324),alt:"路由管理"}})]),s._v(" "),n("p",[s._v("服务节点管理")]),s._v(" "),n("p",[n("img",{attrs:{src:a(325),alt:"服务节点管理"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);